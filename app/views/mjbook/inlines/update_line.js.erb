$('table#<%= @old_line_id %>').replaceWith('<%= escape_javascript(render :partial => 'inline_row', locals: { line: @line }) %>');

$('table#group_sub_<%= @line.ingroup_id %>').find('.invoice_sub_price').html('<%= pounds(@ingroup.price) %>');
$('table#group_sub_<%= @line.ingroup_id %>').find('.invoice_sub_vat').html('<%= pounds(@ingroup.vat_due) %>');
$('table#group_sub_<%= @line.ingroup_id %>').find('.invoice_sub_total').html('<%= pounds(@ingroup.total) %>');
  
$('table#total_<%= @line.ingroup.invoice_id %>').find('.invoice_total_price').html('<%= pounds(@invoice.price) %>');
$('table#total_<%= @line.ingroup.invoice_id %>').find('.invoice_total_vat').html('<%= pounds(@invoice.vat_due) %>');
$('table#total_<%= @line.ingroup.invoice_id %>').find('.invoice_total_total').html('<%= pounds(@invoice.total) %>');


// show/hide menu and mob menu link
    $('table.line_table').on({
        mouseenter:function(){ 
            $(this).css('background-color', '#efefef');
            $(this).find('td.line_menu').css('visibility', 'visible');
            $(this).find('td.line_menu_mob').css('visibility', 'visible');
    },
        mouseleave:function(){ 
            $(this).css('background-color', '#fff');
            $(this).find('td.line_menu').css('visibility', 'hidden');
            $(this).find('td.line_menu_mob').css('visibility', 'hidden')
        }
    });

    
// show/hide mob menu
    $('.line_menu_mob').click(function (){
        $(this).closest('table').find('.mob_menu_popup').toggle();
    });
 
    $('tr.mob_menu_popup').mouseleave(function (){
        $(this).hide();
    });


// specline linetype edit
    $(document).on('click','.submittable2', function() {
     $(this).parents('form:first').submit();
       return false;
    });

<%= render 'inline_jeditable' %>